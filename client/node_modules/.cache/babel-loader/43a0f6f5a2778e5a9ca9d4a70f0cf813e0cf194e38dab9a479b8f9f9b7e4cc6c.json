{"ast":null,"code":"var _jsxFileName = \"/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/src/pages/itemDetails/ItemDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { Box, Typography, useMediaQuery } from \"@mui/material\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FavoriteBorderOutlinedIcon from \"@mui/icons-material/FavoriteBorderOutlined\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport { addToCart } from \"../../state\";\nimport Item from \"../../components/Item\";\n\n// Constants\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"https://sprint9-ecommerce-production.up.railway.app/api/items\";\nconst ItemDetails = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    itemId\n  } = useParams();\n  const cart = useSelector(state => state.cart.cart);\n  const [activeTab, setActiveTab] = useState(\"description\");\n  const [item, setItem] = useState(null);\n  const [items, setItems] = useState([]);\n  const [isInWishlist, setIsInWishlist] = useState(false);\n  const isMobile = useMediaQuery(\"(max-width:768px)\");\n  const isTablet = useMediaQuery(\"(max-width:1024px)\");\n\n  // Memoized values\n  const isItemInCart = useMemo(() => cart.some(cartItem => cartItem.id === (item === null || item === void 0 ? void 0 : item.id)), [cart, item]);\n\n  // Responsive values\n  const responsiveValues = useMemo(() => ({\n    containerWidth: isMobile ? \"90%\" : isTablet ? \"85%\" : \"80%\",\n    containerMargin: isMobile ? \"40px auto\" : isTablet ? \"60px auto\" : \"80px auto\",\n    layoutDirection: isMobile ? \"column\" : \"row\",\n    imageFlex: isMobile ? \"1 1 100%\" : \"1 1 45%\",\n    infoFlex: isMobile ? \"1 1 100%\" : \"1 1 50%\",\n    gap: isMobile ? \"20px\" : \"40px\"\n  }), [isMobile, isTablet]);\n\n  // Handlers\n  const handleTabChange = useCallback((event, newValue) => {\n    setActiveTab(newValue);\n  }, []);\n  const handleWishlistClick = useCallback(() => {\n    setIsInWishlist(!isInWishlist);\n  }, [isInWishlist]);\n  const handleAddToCart = useCallback(() => {\n    if (!isItemInCart && item) {\n      dispatch(addToCart({\n        item: {\n          ...item,\n          count: 1\n        }\n      }));\n    }\n  }, [dispatch, isItemInCart, item]);\n\n  // Data fetching\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch current item\n        const itemResponse = await fetch(`${API_URL}/${itemId}?populate=image`);\n        if (!itemResponse.ok) throw new Error('Item fetch failed');\n        const itemJson = await itemResponse.json();\n        setItem(itemJson.data);\n\n        // Fetch all items\n        const itemsResponse = await fetch(`${API_URL}?populate=image`);\n        if (!itemsResponse.ok) throw new Error('Items fetch failed');\n        const itemsJson = await itemsResponse.json();\n        setItems(itemsJson.data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    fetchData();\n  }, [itemId]);\n\n  // Helper functions\n  const getImageUrl = useCallback(item => {\n    var _item$attributes, _item$attributes$imag, _item$attributes$imag2, _item$attributes$imag3, _item$attributes$imag4, _item$attributes$imag5;\n    if (!(item !== null && item !== void 0 && (_item$attributes = item.attributes) !== null && _item$attributes !== void 0 && (_item$attributes$imag = _item$attributes.image) !== null && _item$attributes$imag !== void 0 && (_item$attributes$imag2 = _item$attributes$imag.data) !== null && _item$attributes$imag2 !== void 0 && (_item$attributes$imag3 = _item$attributes$imag2.attributes) !== null && _item$attributes$imag3 !== void 0 && (_item$attributes$imag4 = _item$attributes$imag3.formats) !== null && _item$attributes$imag4 !== void 0 && (_item$attributes$imag5 = _item$attributes$imag4.medium) !== null && _item$attributes$imag5 !== void 0 && _item$attributes$imag5.url)) {\n      return \"/default-image.jpg\";\n    }\n    return `https://sprint9-ecommerce-production.up.railway.app${item.attributes.image.data.attributes.formats.medium.url}`;\n  }, []);\n  const renderNavigationLink = useCallback((navItem, label) => {\n    if (!navItem) return null;\n    return /*#__PURE__*/_jsxDEV(Link, {\n      to: `/item/${navItem.id}`,\n      style: {\n        textDecoration: \"none\",\n        color: \"inherit\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        sx: {\n          fontSize: '0.9rem',\n          color: '#666'\n        },\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }, []);\n\n  // Computed values\n  const {\n    relatedItems,\n    prevItem,\n    nextItem\n  } = useMemo(() => {\n    var _item$attributes2;\n    if (!item || !items.length) {\n      return {\n        relatedItems: [],\n        prevItem: null,\n        nextItem: null\n      };\n    }\n    const currentIndex = items.findIndex(i => i.id === parseInt(itemId));\n    const category = (_item$attributes2 = item.attributes) === null || _item$attributes2 === void 0 ? void 0 : _item$attributes2.category;\n    return {\n      relatedItems: items.filter(relatedItem => {\n        var _relatedItem$attribut;\n        return (relatedItem === null || relatedItem === void 0 ? void 0 : (_relatedItem$attribut = relatedItem.attributes) === null || _relatedItem$attribut === void 0 ? void 0 : _relatedItem$attribut.category) === category && relatedItem.id !== item.id;\n      }).slice(0, 4),\n      prevItem: currentIndex > 0 ? items[currentIndex - 1] : null,\n      nextItem: currentIndex < items.length - 1 ? items[currentIndex + 1] : null\n    };\n  }, [item, items, itemId]);\n\n  // Loading state\n  if (!(item !== null && item !== void 0 && item.attributes)) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      width: responsiveValues.containerWidth,\n      margin: responsiveValues.containerMargin,\n      textAlign: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {\n          color: '#000',\n          fontWeight: 400\n        },\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  }\n  const {\n    name,\n    price,\n    category,\n    tracklist,\n    longDescription,\n    shortDescription,\n    mediaCondition,\n    sleeveCondition\n  } = item.attributes;\n\n  // Styles\n  const styles = {\n    container: {\n      width: responsiveValues.containerWidth,\n      margin: responsiveValues.containerMargin\n    },\n    mainContent: {\n      display: 'flex',\n      flexDirection: responsiveValues.layoutDirection,\n      flexWrap: 'wrap',\n      gap: responsiveValues.gap,\n      marginBottom: '40px'\n    },\n    imageSection: {\n      flex: responsiveValues.imageFlex\n    },\n    image: {\n      width: '100%',\n      height: 'auto',\n      aspectRatio: '1 / 1',\n      objectFit: 'cover',\n      backgroundColor: '#f8f8f8'\n    },\n    infoSection: {\n      flex: responsiveValues.infoFlex,\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    navigation: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '40px'\n    },\n    navLinks: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px'\n    },\n    divider: {\n      color: '#666',\n      fontSize: '0.9rem'\n    },\n    productInfo: {\n      marginBottom: '40px'\n    },\n    productName: {\n      fontSize: {\n        xs: '1.5rem',\n        sm: '2rem'\n      },\n      fontWeight: 400,\n      color: '#000',\n      marginBottom: '16px',\n      fontFamily: 'system-ui, sans-serif'\n    },\n    productPrice: {\n      fontSize: '1.2rem',\n      fontWeight: 400,\n      color: '#000',\n      marginBottom: '20px',\n      fontFamily: 'system-ui, sans-serif'\n    },\n    tracklist: {\n      fontSize: '0.9rem',\n      color: '#666',\n      marginBottom: '20px',\n      lineHeight: 1.6\n    },\n    description: {\n      fontSize: '0.9rem',\n      color: '#666',\n      lineHeight: 1.6,\n      marginTop: '20px'\n    },\n    addToCartButton: {\n      backgroundColor: isItemInCart ? '#999' : '#000',\n      color: '#fff',\n      borderRadius: '0px',\n      padding: '12px 32px',\n      fontSize: '0.8rem',\n      fontWeight: 400,\n      textTransform: 'uppercase',\n      letterSpacing: '0.5px',\n      minWidth: '160px',\n      marginBottom: '24px',\n      transition: 'opacity 0.3s ease',\n      '&:hover': {\n        backgroundColor: isItemInCart ? '#999' : '#000',\n        opacity: 0.8\n      }\n    },\n    wishlistSection: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n      marginBottom: '16px',\n      cursor: 'pointer'\n    },\n    wishlistText: {\n      fontSize: '0.8rem',\n      color: '#666',\n      textTransform: 'uppercase',\n      letterSpacing: '0.5px'\n    },\n    category: {\n      fontSize: '0.8rem',\n      color: '#666',\n      textTransform: 'uppercase',\n      letterSpacing: '0.5px'\n    },\n    tabs: {\n      margin: '40px 0',\n      borderBottom: '1px solid #f0f0f0',\n      '& .MuiTab-root': {\n        fontSize: '0.8rem',\n        fontWeight: 400,\n        textTransform: 'uppercase',\n        letterSpacing: '0.5px',\n        color: '#666',\n        minWidth: 'auto',\n        padding: '12px 24px'\n      }\n    },\n    tabContent: {\n      fontSize: '0.9rem',\n      color: '#666',\n      lineHeight: 1.6\n    },\n    relatedSection: {\n      marginTop: '60px',\n      width: '100%'\n    },\n    relatedTitle: {\n      fontSize: '1.2rem',\n      fontWeight: 400,\n      color: '#000',\n      marginBottom: '24px',\n      fontFamily: 'system-ui, sans-serif'\n    },\n    relatedGrid: {\n      display: 'grid',\n      gridTemplateColumns: {\n        xs: '1fr',\n        sm: 'repeat(2, 1fr)',\n        md: 'repeat(4, 1fr)'\n      },\n      gap: '24px',\n      width: '100%'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: styles.mainContent,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: styles.imageSection,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: name,\n          src: getImageUrl(item),\n          sx: styles.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: styles.infoSection,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: styles.navigation,\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            style: {\n              textDecoration: \"none\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                fontSize: '0.9rem',\n                color: '#666'\n              },\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: styles.navLinks,\n            children: [renderNavigationLink(prevItem, \"Previous\"), prevItem && nextItem && /*#__PURE__*/_jsxDEV(Typography, {\n              sx: styles.divider,\n              children: \"|\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 40\n            }, this), renderNavigationLink(nextItem, \"Next\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: styles.productInfo,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            sx: styles.productName,\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: styles.productPrice,\n            children: [\"\\u20AC\", (price === null || price === void 0 ? void 0 : price.toFixed(2)) || \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), tracklist && /*#__PURE__*/_jsxDEV(Typography, {\n            sx: styles.tracklist,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tracklist:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this), \" \", tracklist]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), longDescription && /*#__PURE__*/_jsxDEV(Typography, {\n            sx: styles.description,\n            children: longDescription.split(\"\\n\").map((line, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [line, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"button\",\n          onClick: handleAddToCart,\n          disabled: isItemInCart,\n          sx: styles.addToCartButton,\n          children: isItemInCart ? \"In Cart\" : \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: styles.wishlistSection,\n          onClick: handleWishlistClick,\n          children: [isInWishlist ? /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n            sx: {\n              fontSize: '20px',\n              color: '#000'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(FavoriteBorderOutlinedIcon, {\n            sx: {\n              fontSize: '20px',\n              color: '#666'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: styles.wishlistText,\n            children: isInWishlist ? \"Remove from Wishlist\" : \"Add to Wishlist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: styles.category,\n          children: [\"Category: \", category || \"Unknown\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      value: activeTab,\n      onChange: handleTabChange,\n      sx: styles.tabs,\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        label: \"Description\",\n        value: \"description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        label: \"Condition\",\n        value: \"condition\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: styles.tabContent,\n      children: [activeTab === \"description\" && shortDescription && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: shortDescription.split(\"\\n\").map((line, i) => /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"p\",\n          sx: {\n            marginBottom: '8px'\n          },\n          children: line\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this), activeTab === \"condition\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [mediaCondition && /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"p\",\n          sx: {\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Media Condition:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 17\n          }, this), \" \", mediaCondition]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 15\n        }, this), sleeveCondition && /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"p\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Sleeve Condition:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }, this), \" \", sleeveCondition]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this), relatedItems.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n      sx: styles.relatedSection,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        sx: styles.relatedTitle,\n        children: \"Related Albums\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: styles.relatedGrid,\n        children: relatedItems.map(relatedItem => /*#__PURE__*/_jsxDEV(Item, {\n          item: relatedItem\n        }, relatedItem.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n_s(ItemDetails, \"P1/5pLAW7VVkJ25umBK3u1QFh10=\", false, function () {\n  return [useDispatch, useParams, useSelector, useMediaQuery, useMediaQuery];\n});\n_c = ItemDetails;\nexport default ItemDetails;\nvar _c;\n$RefreshReg$(_c, \"ItemDetails\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","Box","Typography","useMediaQuery","Tabs","Tab","useParams","Link","useDispatch","useSelector","FavoriteBorderOutlinedIcon","FavoriteIcon","addToCart","Item","jsxDEV","_jsxDEV","API_URL","ItemDetails","_s","dispatch","itemId","cart","state","activeTab","setActiveTab","item","setItem","items","setItems","isInWishlist","setIsInWishlist","isMobile","isTablet","isItemInCart","some","cartItem","id","responsiveValues","containerWidth","containerMargin","layoutDirection","imageFlex","infoFlex","gap","handleTabChange","event","newValue","handleWishlistClick","handleAddToCart","count","fetchData","itemResponse","fetch","ok","Error","itemJson","json","data","itemsResponse","itemsJson","error","console","getImageUrl","_item$attributes","_item$attributes$imag","_item$attributes$imag2","_item$attributes$imag3","_item$attributes$imag4","_item$attributes$imag5","attributes","image","formats","medium","url","renderNavigationLink","navItem","label","to","style","textDecoration","color","children","variant","sx","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","relatedItems","prevItem","nextItem","_item$attributes2","length","currentIndex","findIndex","i","parseInt","category","filter","relatedItem","_relatedItem$attribut","slice","width","margin","textAlign","fontWeight","name","price","tracklist","longDescription","shortDescription","mediaCondition","sleeveCondition","styles","container","mainContent","display","flexDirection","flexWrap","marginBottom","imageSection","flex","height","aspectRatio","objectFit","backgroundColor","infoSection","navigation","justifyContent","alignItems","navLinks","divider","productInfo","productName","xs","sm","fontFamily","productPrice","lineHeight","description","marginTop","addToCartButton","borderRadius","padding","textTransform","letterSpacing","minWidth","transition","opacity","wishlistSection","cursor","wishlistText","tabs","borderBottom","tabContent","relatedSection","relatedTitle","relatedGrid","gridTemplateColumns","md","alt","src","toFixed","split","map","line","component","onClick","disabled","value","onChange","_c","$RefreshReg$"],"sources":["/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/src/pages/itemDetails/ItemDetails.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { Box, Typography, useMediaQuery } from \"@mui/material\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FavoriteBorderOutlinedIcon from \"@mui/icons-material/FavoriteBorderOutlined\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport { addToCart } from \"../../state\";\nimport Item from \"../../components/Item\";\n\n// Constants\nconst API_URL = \"https://sprint9-ecommerce-production.up.railway.app/api/items\";\n\nconst ItemDetails = () => {\n  const dispatch = useDispatch();\n  const { itemId } = useParams();\n  const cart = useSelector((state) => state.cart.cart);\n  \n  const [activeTab, setActiveTab] = useState(\"description\");\n  const [item, setItem] = useState(null);\n  const [items, setItems] = useState([]);\n  const [isInWishlist, setIsInWishlist] = useState(false);\n  \n  const isMobile = useMediaQuery(\"(max-width:768px)\");\n  const isTablet = useMediaQuery(\"(max-width:1024px)\");\n\n  // Memoized values\n  const isItemInCart = useMemo(() => \n    cart.some((cartItem) => cartItem.id === item?.id), \n    [cart, item]\n  );\n\n  // Responsive values\n  const responsiveValues = useMemo(() => ({\n    containerWidth: isMobile ? \"90%\" : isTablet ? \"85%\" : \"80%\",\n    containerMargin: isMobile ? \"40px auto\" : isTablet ? \"60px auto\" : \"80px auto\",\n    layoutDirection: isMobile ? \"column\" : \"row\",\n    imageFlex: isMobile ? \"1 1 100%\" : \"1 1 45%\",\n    infoFlex: isMobile ? \"1 1 100%\" : \"1 1 50%\",\n    gap: isMobile ? \"20px\" : \"40px\",\n  }), [isMobile, isTablet]);\n\n  // Handlers\n  const handleTabChange = useCallback((event, newValue) => {\n    setActiveTab(newValue);\n  }, []);\n\n  const handleWishlistClick = useCallback(() => {\n    setIsInWishlist(!isInWishlist);\n  }, [isInWishlist]);\n\n  const handleAddToCart = useCallback(() => {\n    if (!isItemInCart && item) {\n      dispatch(addToCart({ item: { ...item, count: 1 } }));\n    }\n  }, [dispatch, isItemInCart, item]);\n\n  // Data fetching\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch current item\n        const itemResponse = await fetch(`${API_URL}/${itemId}?populate=image`);\n        if (!itemResponse.ok) throw new Error('Item fetch failed');\n        const itemJson = await itemResponse.json();\n        setItem(itemJson.data);\n\n        // Fetch all items\n        const itemsResponse = await fetch(`${API_URL}?populate=image`);\n        if (!itemsResponse.ok) throw new Error('Items fetch failed');\n        const itemsJson = await itemsResponse.json();\n        setItems(itemsJson.data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n\n    fetchData();\n  }, [itemId]);\n\n  // Helper functions\n  const getImageUrl = useCallback((item) => {\n    if (!item?.attributes?.image?.data?.attributes?.formats?.medium?.url) {\n      return \"/default-image.jpg\";\n    }\n    return `https://sprint9-ecommerce-production.up.railway.app${item.attributes.image.data.attributes.formats.medium.url}`;\n  }, []);\n\n  const renderNavigationLink = useCallback((navItem, label) => {\n    if (!navItem) return null;\n    \n    return (\n      <Link to={`/item/${navItem.id}`} style={{ textDecoration: \"none\", color: \"inherit\" }}>\n        <Typography variant=\"body2\" sx={{ fontSize: '0.9rem', color: '#666' }}>\n          {label}\n        </Typography>\n      </Link>\n    );\n  }, []);\n\n  // Computed values\n  const { relatedItems, prevItem, nextItem } = useMemo(() => {\n    if (!item || !items.length) {\n      return { relatedItems: [], prevItem: null, nextItem: null };\n    }\n\n    const currentIndex = items.findIndex((i) => i.id === parseInt(itemId));\n    const category = item.attributes?.category;\n\n    return {\n      relatedItems: items.filter(\n        (relatedItem) =>\n          relatedItem?.attributes?.category === category &&\n          relatedItem.id !== item.id\n      ).slice(0, 4),\n      prevItem: currentIndex > 0 ? items[currentIndex - 1] : null,\n      nextItem: currentIndex < items.length - 1 ? items[currentIndex + 1] : null,\n    };\n  }, [item, items, itemId]);\n\n  // Loading state\n  if (!item?.attributes) {\n    return (\n      <Box \n        width={responsiveValues.containerWidth} \n        margin={responsiveValues.containerMargin}\n        textAlign=\"center\"\n      >\n        <Typography variant=\"h4\" sx={{ color: '#000', fontWeight: 400 }}>\n          Loading...\n        </Typography>\n      </Box>\n    );\n  }\n\n  const { name, price, category, tracklist, longDescription, shortDescription, mediaCondition, sleeveCondition } = item.attributes;\n\n  // Styles\n  const styles = {\n    container: {\n      width: responsiveValues.containerWidth,\n      margin: responsiveValues.containerMargin,\n    },\n    mainContent: {\n      display: 'flex',\n      flexDirection: responsiveValues.layoutDirection,\n      flexWrap: 'wrap',\n      gap: responsiveValues.gap,\n      marginBottom: '40px',\n    },\n    imageSection: {\n      flex: responsiveValues.imageFlex,\n    },\n    image: {\n      width: '100%',\n      height: 'auto',\n      aspectRatio: '1 / 1',\n      objectFit: 'cover',\n      backgroundColor: '#f8f8f8',\n    },\n    infoSection: {\n      flex: responsiveValues.infoFlex,\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    navigation: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '40px',\n    },\n    navLinks: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n    },\n    divider: {\n      color: '#666',\n      fontSize: '0.9rem',\n    },\n    productInfo: {\n      marginBottom: '40px',\n    },\n    productName: {\n      fontSize: { xs: '1.5rem', sm: '2rem' },\n      fontWeight: 400,\n      color: '#000',\n      marginBottom: '16px',\n      fontFamily: 'system-ui, sans-serif',\n    },\n    productPrice: {\n      fontSize: '1.2rem',\n      fontWeight: 400,\n      color: '#000',\n      marginBottom: '20px',\n      fontFamily: 'system-ui, sans-serif',\n    },\n    tracklist: {\n      fontSize: '0.9rem',\n      color: '#666',\n      marginBottom: '20px',\n      lineHeight: 1.6,\n    },\n    description: {\n      fontSize: '0.9rem',\n      color: '#666',\n      lineHeight: 1.6,\n      marginTop: '20px',\n    },\n    addToCartButton: {\n      backgroundColor: isItemInCart ? '#999' : '#000',\n      color: '#fff',\n      borderRadius: '0px',\n      padding: '12px 32px',\n      fontSize: '0.8rem',\n      fontWeight: 400,\n      textTransform: 'uppercase',\n      letterSpacing: '0.5px',\n      minWidth: '160px',\n      marginBottom: '24px',\n      transition: 'opacity 0.3s ease',\n      '&:hover': {\n        backgroundColor: isItemInCart ? '#999' : '#000',\n        opacity: 0.8,\n      },\n    },\n    wishlistSection: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n      marginBottom: '16px',\n      cursor: 'pointer',\n    },\n    wishlistText: {\n      fontSize: '0.8rem',\n      color: '#666',\n      textTransform: 'uppercase',\n      letterSpacing: '0.5px',\n    },\n    category: {\n      fontSize: '0.8rem',\n      color: '#666',\n      textTransform: 'uppercase',\n      letterSpacing: '0.5px',\n    },\n    tabs: {\n      margin: '40px 0',\n      borderBottom: '1px solid #f0f0f0',\n      '& .MuiTab-root': {\n        fontSize: '0.8rem',\n        fontWeight: 400,\n        textTransform: 'uppercase',\n        letterSpacing: '0.5px',\n        color: '#666',\n        minWidth: 'auto',\n        padding: '12px 24px',\n      },\n    },\n    tabContent: {\n      fontSize: '0.9rem',\n      color: '#666',\n      lineHeight: 1.6,\n    },\n    relatedSection: {\n      marginTop: '60px',\n      width: '100%',\n    },\n    relatedTitle: {\n      fontSize: '1.2rem',\n      fontWeight: 400,\n      color: '#000',\n      marginBottom: '24px',\n      fontFamily: 'system-ui, sans-serif',\n    },\n    relatedGrid: {\n      display: 'grid',\n      gridTemplateColumns: {\n        xs: '1fr',\n        sm: 'repeat(2, 1fr)',\n        md: 'repeat(4, 1fr)',\n      },\n      gap: '24px',\n      width: '100%',\n    },\n  };\n\n  return (\n    <Box sx={styles.container}>\n      {/* Main Content */}\n      <Box sx={styles.mainContent}>\n        {/* Image Section */}\n        <Box sx={styles.imageSection}>\n          <img\n            alt={name}\n            src={getImageUrl(item)}\n            sx={styles.image}\n          />\n        </Box>\n\n        {/* Info Section */}\n        <Box sx={styles.infoSection}>\n          {/* Navigation */}\n          <Box sx={styles.navigation}>\n            <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n              <Typography variant=\"body2\" sx={{ fontSize: '0.9rem', color: '#666' }}>\n                Home\n              </Typography>\n            </Link>\n            <Box sx={styles.navLinks}>\n              {renderNavigationLink(prevItem, \"Previous\")}\n              {prevItem && nextItem && <Typography sx={styles.divider}>|</Typography>}\n              {renderNavigationLink(nextItem, \"Next\")}\n            </Box>\n          </Box>\n\n          {/* Product Info */}\n          <Box sx={styles.productInfo}>\n            <Typography sx={styles.productName}>\n              {name}\n            </Typography>\n            <Typography sx={styles.productPrice}>\n              €{price?.toFixed(2) || \"N/A\"}\n            </Typography>\n            \n            {tracklist && (\n              <Typography sx={styles.tracklist}>\n                <strong>Tracklist:</strong> {tracklist}\n              </Typography>\n            )}\n\n            {longDescription && (\n              <Typography sx={styles.description}>\n                {longDescription.split(\"\\n\").map((line, i) => (\n                  <span key={i}>\n                    {line}\n                    <br />\n                  </span>\n                ))}\n              </Typography>\n            )}\n          </Box>\n\n          {/* Actions */}\n          <Box\n            component=\"button\"\n            onClick={handleAddToCart}\n            disabled={isItemInCart}\n            sx={styles.addToCartButton}\n          >\n            {isItemInCart ? \"In Cart\" : \"Add to Cart\"}\n          </Box>\n\n          {/* Wishlist & Category */}\n          <Box sx={styles.wishlistSection} onClick={handleWishlistClick}>\n            {isInWishlist ? (\n              <FavoriteIcon sx={{ fontSize: '20px', color: '#000' }} />\n            ) : (\n              <FavoriteBorderOutlinedIcon sx={{ fontSize: '20px', color: '#666' }} />\n            )}\n            <Typography sx={styles.wishlistText}>\n              {isInWishlist ? \"Remove from Wishlist\" : \"Add to Wishlist\"}\n            </Typography>\n          </Box>\n\n          <Typography sx={styles.category}>\n            Category: {category || \"Unknown\"}\n          </Typography>\n        </Box>\n      </Box>\n\n      {/* Tabs Section */}\n      <Tabs value={activeTab} onChange={handleTabChange} sx={styles.tabs}>\n        <Tab label=\"Description\" value=\"description\" />\n        <Tab label=\"Condition\" value=\"condition\" />\n      </Tabs>\n\n      <Box sx={styles.tabContent}>\n        {activeTab === \"description\" && shortDescription && (\n          <div>\n            {shortDescription.split(\"\\n\").map((line, i) => (\n              <Typography key={i} component=\"p\" sx={{ marginBottom: '8px' }}>\n                {line}\n              </Typography>\n            ))}\n          </div>\n        )}\n        {activeTab === \"condition\" && (\n          <div>\n            {mediaCondition && (\n              <Typography component=\"p\" sx={{ marginBottom: '8px' }}>\n                <strong>Media Condition:</strong> {mediaCondition}\n              </Typography>\n            )}\n            {sleeveCondition && (\n              <Typography component=\"p\">\n                <strong>Sleeve Condition:</strong> {sleeveCondition}\n              </Typography>\n            )}\n          </div>\n        )}\n      </Box>\n\n      {/* Related Products */}\n      {relatedItems.length > 0 && (\n        <Box sx={styles.relatedSection}>\n          <Typography sx={styles.relatedTitle}>\n            Related Albums\n          </Typography>\n          <Box sx={styles.relatedGrid}>\n            {relatedItems.map((relatedItem) => (\n              <Item \n                key={relatedItem.id} \n                item={relatedItem} \n              />\n            ))}\n          </Box>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default ItemDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}