{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{Box,Button,Divider,IconButton,Typography}from\"@mui/material\";import{useSelector,useDispatch}from\"react-redux\";import CloseIcon from\"@mui/icons-material/Close\";import styled from\"@emotion/styled\";import{shades}from\"../../theme\";import{removeFromCart,setIsCartOpen}from\"../../state\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var FlexBox=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));var CartMenu=function CartMenu(){var navigate=useNavigate();var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart.cart;});var isCartOpen=useSelector(function(state){return state.cart.isCartOpen;});var totalPrice=cart.reduce(function(total,item){return total+item.count*item.attributes.price;},0);console.log(totalPrice);return/*#__PURE__*/_jsx(Box,{display:isCartOpen?\"block\":\"none\",backgroundColor:\"rgba(0, 0, 0, 0.4)\",position:\"fixed\",zIndex:10,width:\"100%\",height:\"100%\",left:\"0\",top:\"0\",overflow:\"auto\",children:/*#__PURE__*/_jsx(Box,{position:\"fixed\",right:\"0\",bottom:\"0\",width:\"max(400px, 30%)\",height:\"100%\",backgroundColor:\"white\",children:/*#__PURE__*/_jsxs(Box,{padding:\"30px\",overflow:\"auto\",height:\"100%\",children:[/*#__PURE__*/_jsxs(FlexBox,{mb:\"15px\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h3\",children:[\"SHOPPING BAG (\",cart.length,\")\"]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return dispatch(setIsCartOpen({}));},children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(Box,{children:cart.map(function(item){var _item$attributes,_item$attributes$imag,_item$attributes$imag2,_item$attributes$imag3,_item$attributes$imag4,_item$attributes$imag5;return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(FlexBox,{p:\"15px 0\",children:[/*#__PURE__*/_jsx(Box,{flex:\"1 1 40%\",children:/*#__PURE__*/_jsx(\"img\",{alt:item===null||item===void 0?void 0:item.name,width:\"150px\",height:\"150px\",src:item===null||item===void 0?void 0:(_item$attributes=item.attributes)===null||_item$attributes===void 0?void 0:(_item$attributes$imag=_item$attributes.image)===null||_item$attributes$imag===void 0?void 0:(_item$attributes$imag2=_item$attributes$imag.data)===null||_item$attributes$imag2===void 0?void 0:(_item$attributes$imag3=_item$attributes$imag2.attributes)===null||_item$attributes$imag3===void 0?void 0:(_item$attributes$imag4=_item$attributes$imag3.formats)===null||_item$attributes$imag4===void 0?void 0:(_item$attributes$imag5=_item$attributes$imag4.medium)===null||_item$attributes$imag5===void 0?void 0:_item$attributes$imag5.url})}),/*#__PURE__*/_jsxs(Box,{flex:\"1 1 60%\",children:[/*#__PURE__*/_jsxs(FlexBox,{mb:\"5px\",children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",children:item.attributes.name}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return dispatch(removeFromCart({id:item.id}));},children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(Typography,{children:item.attributes.shortDescription}),/*#__PURE__*/_jsxs(FlexBox,{m:\"15px 0\",children:[/*#__PURE__*/_jsx(Box,{display:\"flex\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Typography,{children:item.count})}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",children:[\"\\u20AC \",item.attributes.price]})]})]})]}),/*#__PURE__*/_jsx(Divider,{})]},\"\".concat(item.attributes.name,\"-\").concat(item.id));})}),/*#__PURE__*/_jsxs(Box,{m:\"20px 0\",children:[/*#__PURE__*/_jsxs(FlexBox,{m:\"20px 0\",children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",children:\"SUBTOTAL\"}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",children:[\"\\u20AC\",totalPrice]})]}),/*#__PURE__*/_jsx(Button,{sx:{backgroundColor:shades.primary[400],color:\"white\",borderRadius:0,minWidth:\"100%\",padding:\"20px 40px\",m:\"20px 0\"},onClick:function onClick(){navigate(\"/checkout\");dispatch(setIsCartOpen({}));},children:\"CHECKOUT\"})]})]})})});};export default CartMenu;","map":{"version":3,"names":["Box","Button","Divider","IconButton","Typography","useSelector","useDispatch","CloseIcon","styled","shades","removeFromCart","setIsCartOpen","useNavigate","jsxs","_jsxs","jsx","_jsx","FlexBox","_templateObject","_taggedTemplateLiteral","CartMenu","navigate","dispatch","cart","state","isCartOpen","totalPrice","reduce","total","item","count","attributes","price","console","log","display","backgroundColor","position","zIndex","width","height","left","top","overflow","children","right","bottom","padding","mb","variant","length","onClick","map","_item$attributes","_item$attributes$imag","_item$attributes$imag2","_item$attributes$imag3","_item$attributes$imag4","_item$attributes$imag5","p","flex","alt","name","src","image","data","formats","medium","url","fontWeight","id","shortDescription","m","alignItems","concat","sx","primary","color","borderRadius","minWidth"],"sources":["/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/src/pages/global/CartMenu.jsx"],"sourcesContent":["import { Box, Button, Divider, IconButton, Typography } from \"@mui/material\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport styled from \"@emotion/styled\";\nimport { shades } from \"../../theme\";\nimport { removeFromCart, setIsCartOpen } from \"../../state\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst FlexBox = styled(Box)`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst CartMenu = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const cart = useSelector((state) => state.cart.cart);\n  const isCartOpen = useSelector((state) => state.cart.isCartOpen);\n\n  const totalPrice = cart.reduce((total, item) => {\n    return total + item.count * item.attributes.price;\n  }, 0);\n  console.log(totalPrice);\n\n  return (\n    <Box\n      display={isCartOpen ? \"block\" : \"none\"}\n      backgroundColor=\"rgba(0, 0, 0, 0.4)\"\n      position=\"fixed\"\n      zIndex={10}\n      width=\"100%\"\n      height=\"100%\"\n      left=\"0\"\n      top=\"0\"\n      overflow=\"auto\"\n    >\n      <Box\n        position=\"fixed\"\n        right=\"0\"\n        bottom=\"0\"\n        width=\"max(400px, 30%)\"\n        height=\"100%\"\n        backgroundColor=\"white\"\n      >\n        <Box padding=\"30px\" overflow=\"auto\" height=\"100%\">\n          {/* HEADER */}\n          <FlexBox mb=\"15px\">\n            <Typography variant=\"h3\">SHOPPING BAG ({cart.length})</Typography>\n            <IconButton onClick={() => dispatch(setIsCartOpen({}))}>\n              <CloseIcon />\n            </IconButton>\n          </FlexBox>\n\n          {/* CART LIST */}\n          <Box>\n            {cart.map((item) => (\n              <Box key={`${item.attributes.name}-${item.id}`}>\n                <FlexBox p=\"15px 0\">\n                  <Box flex=\"1 1 40%\">\n                    <img\n                      alt={item?.name}\n                      width=\"150px\"\n                      height=\"150px\"\n                      src={\n                        item?.attributes?.image?.data?.attributes?.formats\n                          ?.medium?.url\n                      }\n                    />\n                  </Box>\n                  <Box flex=\"1 1 60%\">\n                    {/* ITEM NAME */}\n                    <FlexBox mb=\"5px\">\n                      <Typography fontWeight=\"bold\">\n                        {item.attributes.name}\n                      </Typography>\n                      <IconButton\n                        onClick={() =>\n                          dispatch(removeFromCart({ id: item.id }))\n                        }\n                      >\n                        <CloseIcon />\n                      </IconButton>\n                    </FlexBox>\n                    <Typography>{item.attributes.shortDescription}</Typography>\n\n                    {/* AMOUNT */}\n                    <FlexBox m=\"15px 0\">\n                      <Box display=\"flex\" alignItems=\"center\">\n                        <Typography>{item.count}</Typography>\n                      </Box>\n\n                      {/* PRICE */}\n                      <Typography fontWeight=\"bold\">\n                        € {item.attributes.price}\n                      </Typography>\n                    </FlexBox>\n                  </Box>\n                </FlexBox>\n                <Divider />\n              </Box>\n            ))}\n          </Box>\n\n          {/* ACTIONS - SUBTOTAL - PRICE - CHECKOUT */}\n          <Box m=\"20px 0\">\n            <FlexBox m=\"20px 0\">\n              <Typography fontWeight=\"bold\">SUBTOTAL</Typography>\n              <Typography fontWeight=\"bold\">€{totalPrice}</Typography>\n            </FlexBox>\n            <Button\n              sx={{\n                backgroundColor: shades.primary[400],\n                color: \"white\",\n                borderRadius: 0,\n                minWidth: \"100%\",\n                padding: \"20px 40px\",\n                m: \"20px 0\",\n              }}\n              onClick={() => {\n                navigate(\"/checkout\");\n                dispatch(setIsCartOpen({}));\n              }}\n            >\n              CHECKOUT\n            </Button>\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default CartMenu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}