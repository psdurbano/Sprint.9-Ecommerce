{"ast":null,"code":"var _jsxFileName = \"/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/src/components/Item.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Box, Typography, Button } from \"@mui/material\";\nimport { shades } from \"../theme\";\nimport { addToCart } from \"../state\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Item = _ref => {\n  _s();\n  var _image$data, _image$data$attribute, _image$data$attribute2, _image$data$attribute3;\n  let {\n    item\n  } = _ref;\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart.cart);\n  const [isHovered, setIsHovered] = useState(false);\n  if (!item || !item.attributes) {\n    // A simple placeholder for loading or error state\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          backgroundColor: shades.neutral[200],\n          aspectRatio: '1 / 1',\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: \"3px\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            backgroundColor: shades.neutral[200],\n            height: '20px',\n            mb: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            backgroundColor: shades.neutral[200],\n            height: '20px',\n            width: '75%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          fontWeight: \"bold\",\n          sx: {\n            backgroundColor: shades.neutral[200],\n            height: '20px',\n            width: '30%',\n            mt: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this);\n  }\n\n  // DESTRUCTURING SEGURO DESPUÉS DE LA VALIDACIÓN\n  const isItemInCart = cart.some(cartItem => cartItem.id === item.id);\n  const {\n    category = \"Unknown\",\n    price = 0,\n    name = \"Unnamed Item\",\n    image\n  } = item.attributes;\n\n  // Safe image URL retrieval\n  const imageUrl = image !== null && image !== void 0 && (_image$data = image.data) !== null && _image$data !== void 0 && (_image$data$attribute = _image$data.attributes) !== null && _image$data$attribute !== void 0 && (_image$data$attribute2 = _image$data$attribute.formats) !== null && _image$data$attribute2 !== void 0 && (_image$data$attribute3 = _image$data$attribute2.medium) !== null && _image$data$attribute3 !== void 0 && _image$data$attribute3.url ? `https://sprint9-ecommerce-production.up.railway.app${image.data.attributes.formats.medium.url}` : \"/default-image.jpg\";\n  const handleAddToCart = () => {\n    if (!isItemInCart) {\n      dispatch(addToCart({\n        item: {\n          ...item,\n          count: 1\n        }\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: () => setIsHovered(false),\n    onClick: () => navigate(`/item/${item.id}`),\n    sx: {\n      cursor: 'pointer',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      component: \"img\",\n      alt: name,\n      src: imageUrl,\n      sx: {\n        width: '100%',\n        height: 'auto',\n        aspectRatio: '1 / 1',\n        objectFit: 'cover',\n        transition: 'transform 0.3s ease-in-out',\n        transform: isHovered ? 'scale(1.03)' : 'scale(1)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      sx: {\n        position: 'absolute',\n        bottom: '10px',\n        width: '100%',\n        opacity: isHovered ? 1 : 0,\n        transition: 'opacity 0.3s ease-in-out'\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => {\n          e.stopPropagation(); // Prevent navigation when adding to cart\n          handleAddToCart();\n        },\n        sx: {\n          backgroundColor: isItemInCart ? \"#999999\" : shades.primary[500],\n          color: \"white\",\n          cursor: isItemInCart ? \"default\" : \"pointer\",\n          boxShadow: '0px 4px 15px rgba(0, 0, 0, 0.2)',\n          padding: '10px 20px',\n          '&:hover': {\n            backgroundColor: isItemInCart ? \"#999999\" : shades.primary[400]\n          }\n        },\n        disabled: isItemInCart,\n        children: isItemInCart ? \"IN CART\" : \"ADD TO CART\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: \"3px\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        color: \"text.secondary\",\n        sx: {\n          textTransform: 'capitalize'\n        },\n        children: category.replace(/([A-Z])/g, \" $1\").replace(/^./, str => str.toUpperCase())\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        fontWeight: \"bold\",\n        children: [\"\\u20AC \", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Item, \"+wK6oegEyvQKIG3MEs8DAs5MMZ0=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c = Item;\nexport default Item;\nvar _c;\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Box","Typography","Button","shades","addToCart","useNavigate","jsxDEV","_jsxDEV","Item","_ref","_s","_image$data","_image$data$attribute","_image$data$attribute2","_image$data$attribute3","item","navigate","dispatch","cart","state","isHovered","setIsHovered","attributes","children","sx","backgroundColor","neutral","aspectRatio","width","fileName","_jsxFileName","lineNumber","columnNumber","mt","height","mb","fontWeight","isItemInCart","some","cartItem","id","category","price","name","image","imageUrl","data","formats","medium","url","handleAddToCart","count","onMouseEnter","onMouseLeave","onClick","cursor","position","component","alt","src","objectFit","transition","transform","display","justifyContent","bottom","opacity","e","stopPropagation","primary","color","boxShadow","padding","disabled","variant","textTransform","replace","str","toUpperCase","_c","$RefreshReg$"],"sources":["/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/src/components/Item.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Box, Typography, Button } from \"@mui/material\";\nimport { shades } from \"../theme\";\nimport { addToCart } from \"../state\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Item = ({ item }) => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const cart = useSelector((state) => state.cart.cart);\n  const [isHovered, setIsHovered] = useState(false);\n\n  if (!item || !item.attributes) {\n    // A simple placeholder for loading or error state\n    return (\n      <Box>\n        <Box\n          sx={{\n            backgroundColor: shades.neutral[200],\n            aspectRatio: '1 / 1',\n            width: '100%',\n          }}\n        />\n        <Box mt=\"3px\">\n          <Typography sx={{ backgroundColor: shades.neutral[200], height: '20px', mb: '5px' }} />\n          <Typography sx={{ backgroundColor: shades.neutral[200], height: '20px', width: '75%' }} />\n          <Typography fontWeight=\"bold\" sx={{ backgroundColor: shades.neutral[200], height: '20px', width: '30%', mt: '5px' }} />\n        </Box>\n      </Box>\n    );\n  }\n\n  // DESTRUCTURING SEGURO DESPUÉS DE LA VALIDACIÓN\n  const isItemInCart = cart.some((cartItem) => cartItem.id === item.id);\n  const { \n    category = \"Unknown\",\n    price = 0,\n    name = \"Unnamed Item\",\n    image,\n  } = item.attributes;\n\n  // Safe image URL retrieval\n  const imageUrl = image?.data?.attributes?.formats?.medium?.url \n    ? `https://sprint9-ecommerce-production.up.railway.app${image.data.attributes.formats.medium.url}`\n    : \"/default-image.jpg\";\n\n  const handleAddToCart = () => {\n    if (!isItemInCart) {\n      dispatch(addToCart({ item: { ...item, count: 1 } }));\n    }\n  };\n\n  return (\n    <Box\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      onClick={() => navigate(`/item/${item.id}`)}\n      sx={{ cursor: 'pointer', position: 'relative' }}\n    >\n      <Box\n        component=\"img\"\n        alt={name}\n        src={imageUrl}\n        sx={{\n          width: '100%',\n          height: 'auto',\n          aspectRatio: '1 / 1',\n          objectFit: 'cover',\n          transition: 'transform 0.3s ease-in-out',\n          transform: isHovered ? 'scale(1.03)' : 'scale(1)',\n        }}\n      />\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        sx={{\n          position: 'absolute',\n          bottom: '10px',\n          width: '100%',\n          opacity: isHovered ? 1 : 0,\n          transition: 'opacity 0.3s ease-in-out',\n        }}\n      >\n        <Button\n          onClick={(e) => {\n            e.stopPropagation(); // Prevent navigation when adding to cart\n            handleAddToCart();\n          }}\n          sx={{\n            backgroundColor: isItemInCart ? \"#999999\" : shades.primary[500],\n            color: \"white\",\n            cursor: isItemInCart ? \"default\" : \"pointer\",\n            boxShadow: '0px 4px 15px rgba(0, 0, 0, 0.2)',\n            padding: '10px 20px',\n            '&:hover': {\n              backgroundColor: isItemInCart ? \"#999999\" : shades.primary[400],\n            }\n          }}\n          disabled={isItemInCart}\n        >\n          {isItemInCart ? \"IN CART\" : \"ADD TO CART\"}\n        </Button>\n      </Box>\n\n      <Box mt=\"3px\">\n        <Typography \n          variant=\"subtitle2\" \n          color=\"text.secondary\" \n          sx={{ textTransform: 'capitalize' }}\n        >\n          {category\n            .replace(/([A-Z])/g, \" $1\")\n            .replace(/^./, (str) => str.toUpperCase())}\n        </Typography>\n        <Typography>{name}</Typography>\n        <Typography fontWeight=\"bold\">€ {price}</Typography>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Item;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}