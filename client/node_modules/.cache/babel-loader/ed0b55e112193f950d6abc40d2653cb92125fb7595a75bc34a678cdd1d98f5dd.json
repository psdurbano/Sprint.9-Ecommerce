{"ast":null,"code":"import _objectSpread from\"/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Box,Typography,Button}from\"@mui/material\";import{shades}from\"../theme\";import{addToCart}from\"../state\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Item=function Item(_ref){var item=_ref.item,width=_ref.width;var navigate=useNavigate();var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart.cart;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isHovered=_useState2[0],setIsHovered=_useState2[1];var isItemInCart=cart.some(function(cartItem){return cartItem.id===item.id;});var _item$attributes=item.attributes,category=_item$attributes.category,price=_item$attributes.price,name=_item$attributes.name,image=_item$attributes.image;var url=image.data.attributes.formats.medium.url;var handleAddToCart=function handleAddToCart(){if(!isItemInCart){dispatch(addToCart({item:_objectSpread(_objectSpread({},item),{},{count:1})}));}};return/*#__PURE__*/_jsxs(Box,{width:width,position:\"relative\",onMouseEnter:function onMouseEnter(){return setIsHovered(true);},onMouseLeave:function onMouseLeave(){return setIsHovered(false);},style:{transition:\"transform 0.3s, box-shadow 0.3s\",transform:isHovered?\"scale(1.05)\":\"scale(1)\",boxShadow:isHovered?\"0 1px 2px rgba(0, 0, 0, 0.05)\":\"none\"},children:[/*#__PURE__*/_jsx(\"img\",{alt:item.name,width:\"380px\",height:\"380px\",src:url,onClick:function onClick(){return navigate(\"/item/\".concat(item.id));},style:{cursor:\"pointer\"}}),/*#__PURE__*/_jsx(Box,{display:isHovered?\"flex\":\"none\",justifyContent:\"space-between\",position:\"absolute\",left:\"55%\",top:\"-10%\",width:\"100%\",padding:\"0 5%\",background:shades.neutral[100],borderRadius:\"3px\",style:{position:\"relative\"},children:/*#__PURE__*/_jsx(Button,{onClick:handleAddToCart,sx:{backgroundColor:isItemInCart?\"#999999\":shades.primary[500],color:\"white\",cursor:isItemInCart?\"default\":\"pointer\"},disabled:isItemInCart,children:isItemInCart?\"In Cart\":\"Add to Cart\"})}),/*#__PURE__*/_jsxs(Box,{mt:\"3px\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:shades.neutral.dark,children:category.replace(/([A-Z])/g,\" $1\").replace(/^./,function(str){return str.toUpperCase();})}),/*#__PURE__*/_jsx(Typography,{children:name}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",children:[\"\\u20AC \",price]})]})]});};export default Item;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Box","Typography","Button","shades","addToCart","useNavigate","jsx","_jsx","jsxs","_jsxs","Item","_ref","item","width","navigate","dispatch","cart","state","_useState","_useState2","_slicedToArray","isHovered","setIsHovered","isItemInCart","some","cartItem","id","_item$attributes","attributes","category","price","name","image","url","data","formats","medium","handleAddToCart","_objectSpread","count","position","onMouseEnter","onMouseLeave","style","transition","transform","boxShadow","children","alt","height","src","onClick","concat","cursor","display","justifyContent","left","top","padding","background","neutral","borderRadius","sx","backgroundColor","primary","color","disabled","mt","variant","dark","replace","str","toUpperCase","fontWeight"],"sources":["/Users/pablodurbano/Documents/ dev/Sprint.9-Ecommerce/client/src/components/Item.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Box, Typography, Button } from \"@mui/material\";\nimport { shades } from \"../theme\";\nimport { addToCart } from \"../state\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Item = ({ item, width }) => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const cart = useSelector((state) => state.cart.cart);\n  const [isHovered, setIsHovered] = useState(false);\n  const isItemInCart = cart.some((cartItem) => cartItem.id === item.id);\n\n  const { category, price, name, image } = item.attributes;\n  const {\n    data: {\n      attributes: {\n        formats: {\n          medium: { url },\n        },\n      },\n    },\n  } = image;\n\n  const handleAddToCart = () => {\n    if (!isItemInCart) {\n      dispatch(addToCart({ item: { ...item, count: 1 } }));\n    }\n  };\n\n  return (\n    <Box\n      width={width}\n      position=\"relative\"\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      style={{\n        transition: \"transform 0.3s, box-shadow 0.3s\",\n        transform: isHovered ? \"scale(1.05)\" : \"scale(1)\",\n        boxShadow: isHovered ? \"0 1px 2px rgba(0, 0, 0, 0.05)\" : \"none\",\n      }}\n    >\n      <img\n        alt={item.name}\n        width=\"380px\"\n        height=\"380px\"\n        src={url}\n        onClick={() => navigate(`/item/${item.id}`)}\n        style={{ cursor: \"pointer\" }}\n      />\n      <Box\n        display={isHovered ? \"flex\" : \"none\"}\n        justifyContent=\"space-between\"\n        position=\"absolute\"\n        left=\"55%\"\n        top=\"-10%\"\n        width=\"100%\"\n        padding=\"0 5%\"\n        background={shades.neutral[100]}\n        borderRadius=\"3px\"\n        style={{ position: \"relative\" }}\n      >\n        <Button\n          onClick={handleAddToCart}\n          sx={{\n            backgroundColor: isItemInCart ? \"#999999\" : shades.primary[500],\n            color: \"white\",\n            cursor: isItemInCart ? \"default\" : \"pointer\",\n          }}\n          disabled={isItemInCart}\n        >\n          {isItemInCart ? \"In Cart\" : \"Add to Cart\"}\n        </Button>\n      </Box>\n\n      <Box mt=\"3px\">\n        <Typography variant=\"subtitle2\" color={shades.neutral.dark}>\n          {category\n            .replace(/([A-Z])/g, \" $1\")\n            .replace(/^./, (str) => str.toUpperCase())}\n        </Typography>\n        <Typography>{name}</Typography>\n        <Typography fontWeight=\"bold\">â‚¬ {price}</Typography>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Item;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}